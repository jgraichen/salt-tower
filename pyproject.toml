[build-system]
requires = ["poetry-core>=1.0.0"]
build-backend = "poetry.core.masonry.api"

[tool.poetry]
name = "salt-tower"
version = "1.7.0"
homepage = "https://github.com/jgraichen/salt-tower"
description = "A Flexible External Salt Pillar Module"
classifiers = [
    "Development Status :: 5 - Production/Stable",
    "Environment :: Plugins",
    "Intended Audience :: System Administrators",
    "License :: OSI Approved :: MIT License",
    "Programming Language :: Python :: 3",
    "Topic :: System :: Systems Administration",
]
authors = ["Jan Graichen <jgraichen@altimos.de>"]
readme = "README.md"

[tool.poetry.dependencies]
python = ">= 3.6.2, < 4"
salt = "*"

black = { version = "^22.3.0", optional = true }
mike = { version = "^1.0.0", optional = true }
mkdocs-awesome-pages-plugin = { version = "^2.5.0", optional = true }
mkdocs-git-revision-date-plugin = { version = "^0.3.1", optional = true }
mkdocs-material = { version = "^8.0.0", optional = true }
pylint = { version = "2.11.1", optional = true }
pytest = { version = "^7.0.0", optional = true }

[tool.poetry.extras]
docs = [
    "mike",
    "mkdocs-git-revision-date-plugin",
    "mkdocs-material",
    "mkdocs-minify-plugin",
]
test = ["black", "pylint", "pytest"]

[tool.poetry.dev-dependencies]
black = "^22.3.0"
mike = "^1.0.0"
mkdocs-awesome-pages-plugin = "^2.5.0"
mkdocs-git-revision-date-plugin = "^0.3.1"
mkdocs-material = "^8.0.0"
mypy = "^0.942"
pylint = "2.11.1"
pytest = "^7.0.0"
tox = "^3.23.0"

[tool.poetry.plugins."salt.loader"]
pillar_dirs = "salt_tower.loader:pillar_dirs"
render_dirs = "salt_tower.loader:renderers_dirs"

[tool.black]
target_version = ["py36", "py37", "py38"]

[tool.dephell.main]
from = { format = "poetry", path = "pyproject.toml" }
to = { format = "setuppy", path = "setup.py" }
